# Cursor Rules - AqualityGuy Project

## üìã Informaci√≥n del Proyecto
- **Nombre**: AqualityGuy Website
- **Tipo**: Sitio web est√°tico
- **Build Tool**: Vite
- **Lenguaje**: TypeScript (strict mode)
- **Estilos**: CSS vanilla
- **Deploy**: Vercel
- **Charts**: Chart.js

---

## üéØ REGLAS B√ÅSICAS

### Estilo de C√≥digo
- Usar TypeScript estricto (strict mode habilitado)
- Preferir funciones arrow cuando sea posible
- Usar `const`/`let`, nunca `var`
- Nombres de variables y funciones en `camelCase`
- Nombres de archivos en `kebab-case` (ej: `legal-pages.ts`)
- Nombres de tipos/interfaces en `PascalCase` (ej: `Service`, `Project`)
- Constantes en `UPPER_SNAKE_CASE` cuando sea apropiado

### Estructura del Proyecto
```
src/
  assets/     # Im√°genes y recursos est√°ticos
  config/     # Configuraciones (legal.ts, etc.)
  styles/     # Archivos CSS
  types/      # Definiciones de tipos TypeScript
  *.ts        # M√≥dulos principales
```

- Mantener la organizaci√≥n modular: assets, styles, types, config
- Los estilos van en `src/styles/`
- Los tipos van en `src/types/`
- Las configuraciones van en `src/config/`
- Los assets van en `src/assets/`

### TypeScript
- Habilitar strict mode siempre
- Definir tipos en `src/types/index.ts`
- Usar interfaces para objetos complejos
- Evitar `any`, usar `unknown` si es necesario
- Exportar tipos cuando se reutilicen
- Usar type assertions solo cuando sea necesario
- Preferir type guards sobre type assertions
- Documentar tipos complejos con comentarios JSDoc cuando sea √∫til

### CSS
- Usar CSS vanilla (no frameworks CSS)
- Variables CSS para colores y temas
- Dise√±o oscuro por defecto
- Responsive design mobile-first
- Organizar estilos por secci√≥n con comentarios
- Usar BEM-like naming para clases complejas
- Mantener especificidad baja
- Usar `var(--variable-name)` para valores reutilizables

### HTML
- Usar sem√°ntica HTML5 apropiada
- Incluir atributos `aria-*` cuando sea necesario para accesibilidad
- Mantener estructura accesible
- Usar `rel="noopener noreferrer"` en enlaces externos con `target="_blank"`

### Formularios
- Siempre validar campos antes de enviar
- Incluir protecci√≥n anti-spam (honeypot)
- Validar checkboxes de privacidad obligatorios
- Mostrar feedback visual al usuario
- Validaci√≥n en tiempo real cuando sea apropiado
- Mensajes de error claros y espec√≠ficos
- Usar tipos de input apropiados (`email`, `tel`, `number`, etc.)

### P√°ginas Legales
- Mantener contenido en `src/config/legal.ts`
- Usar el sistema de navegaci√≥n entre p√°ginas legales
- Mantener consistencia en el formato HTML
- Enlaces a pol√≠ticas de privacidad y t√©rminos en formularios

---

## üöÄ REGLAS AVANZADAS

### Arquitectura y Patrones

#### Funciones
- Mantener funciones peque√±as y enfocadas (< 100 l√≠neas preferiblemente)
- Preferir funciones puras cuando sea posible
- Evitar efectos secundarios innecesarios
- Usar template literals para strings complejos
- Preferir `async/await` sobre `Promise.then()`
- Comentar c√≥digo complejo o no obvio

#### Manejo de DOM
- Usar `document.getElementById()` con non-null assertion (`!`) cuando est√©s seguro
- Agrupar manipulaci√≥n de DOM en funciones espec√≠ficas
- Usar `setTimeout` para operaciones que requieren DOM listo
- Preferir `addEventListener` sobre atributos inline de eventos

#### Generaci√≥n de HTML
- Usar template literals para generar HTML din√°mico
- Separar l√≥gica de generaci√≥n de HTML en funciones dedicadas
- Mantener HTML generado legible y bien formateado
- Usar `.map()` y `.join('')` para listas din√°micas

### TypeScript Avanzado

#### Tipos y Interfaces
```typescript
// ‚úÖ Correcto
export interface Service {
  title: string;
  tagline: string;
  features: string[];
  price: string;
  buttonText?: string;
  disabled?: boolean;
}

// ‚ùå Evitar
interface Service {
  title: any;
  [key: string]: unknown;
}
```

#### Type Guards
- Usar type guards para validar tipos en runtime
- Preferir type guards sobre type assertions cuando sea posible

#### Imports
- Agrupar imports: primero externos, luego locales
- Usar `import type` para imports de solo tipos
- Mantener imports organizados y limpios

### Validaci√≥n y Seguridad

#### Formularios
- Validar honeypot antes de procesar
- Validar todos los campos obligatorios
- Validar formatos (email, tel√©fono, etc.)
- Validar rangos num√©ricos (edad: 13-99, experiencia: 0-60, salarios: seg√∫n contexto)
- Validar checkboxes de privacidad obligatorios
- Mostrar mensajes de error espec√≠ficos

#### Validaci√≥n en Tiempo Real
- Implementar validaci√≥n en tiempo real para campos cr√≠ticos
- Limpiar valores inv√°lidos autom√°ticamente cuando sea apropiado
- Proporcionar feedback inmediato al usuario

### Performance

#### Optimizaci√≥n
- Evitar re-renderizados innecesarios
- Usar `setTimeout` con delays apropiados para operaciones no cr√≠ticas
- Lazy load de recursos pesados cuando sea posible
- Minimizar manipulaci√≥n directa del DOM

#### Carga de Recursos
- Importar im√°genes como m√≥dulos cuando sea posible
- Usar Vite para optimizaci√≥n de assets
- Mantener bundle size bajo

### Convenciones de Nombres

#### Archivos
- `main.ts` - Punto de entrada principal
- `form.ts` - L√≥gica de formularios
- `legal-pages.ts` - P√°ginas legales
- `cursos.ts` - P√°ginas de cursos
- `*-config.ts` - Archivos de configuraci√≥n

#### Funciones
- `create*()` - Funciones que generan HTML (ej: `createTopBar()`)
- `handle*()` - Handlers de eventos (ej: `handleSubmit()`)
- `validate*()` - Funciones de validaci√≥n (ej: `validateEmail()`)
- `calculate*()` - Funciones de c√°lculo (ej: `calculateReadingTime()`)

#### Variables
- `*HTML` - Variables que contienen strings HTML (ej: `servicesHTML`)
- `*Data` - Arrays u objetos de datos (ej: `salaryData`)
- `*Element` - Referencias a elementos DOM (ej: `formElement`)

### Buenas Pr√°cticas

#### C√≥digo Limpio
- Mantener funciones con una sola responsabilidad
- Evitar c√≥digo duplicado (DRY principle)
- No hardcodear valores m√°gicos, usar constantes
- Comentar decisiones no obvias
- Mantener c√≥digo legible y autodocumentado

#### Manejo de Errores
- Validar inputs antes de procesarlos
- Manejar casos edge apropiadamente
- Proporcionar feedback √∫til al usuario
- Usar `console.log` para debugging, pero limpiar en producci√≥n

#### Git y Commits
- Commits descriptivos en espa√±ol
- No committear `node_modules`, `dist`, o archivos temporales
- No committear credenciales o secrets
- Mantener `.gitignore` actualizado

#### Git con el Agente
- **El agente puede realizar operaciones de git directamente**: El usuario puede pedir al agente que suba c√≥digo, haga commits, pushes, merges, etc. simplemente hablando con √©l
- El agente puede ejecutar comandos git como `git add`, `git commit`, `git push`, `git merge`, etc.
- El agente debe verificar el estado de git antes de realizar operaciones
- El agente debe crear commits descriptivos cuando se le pida subir cambios
- El agente puede trabajar con m√∫ltiples ramas (main, develop, feature branches)
- El usuario puede pedir sincronizar ramas, hacer merge, o subir cambios sin necesidad de usar la terminal manualmente

### Evitar

#### ‚ùå NO Hacer
- No usar `any` en TypeScript
- No hardcodear valores m√°gicos
- No duplicar c√≥digo (DRY principle)
- No committear credenciales o secrets
- No usar `var`
- No usar funciones an√≥nimas cuando una arrow function es m√°s clara
- No manipular DOM antes de que est√© listo
- No olvidar validar inputs de usuario
- No olvidar protecci√≥n anti-spam en formularios
- No usar `innerHTML` sin sanitizar (aunque en este proyecto se usa para contenido controlado)

#### ‚úÖ S√ç Hacer
- Usar TypeScript strict mode
- Validar todos los inputs
- Usar type guards cuando sea necesario
- Mantener c√≥digo modular
- Comentar c√≥digo complejo
- Usar nombres descriptivos
- Mantener funciones peque√±as
- Usar template literals para HTML din√°mico

---

## üìù Ejemplos de C√≥digo

### Generaci√≥n de HTML
```typescript
// ‚úÖ Correcto
function createTopBar(): string {
  return `
    <div class="top-bar">
      <span>software engineer</span>
    </div>
  `;
}

// ‚úÖ Correcto - Lista din√°mica
const servicesHTML = services
  .map((service) => `<div>${service.title}</div>`)
  .join('');
```

### Validaci√≥n
```typescript
// ‚úÖ Correcto
const edadInput = document.getElementById('edad') as HTMLInputElement;
if (edadInput) {
  edadInput.addEventListener('input', (e) => {
    const value = parseInt((e.target as HTMLInputElement).value);
    if (isNaN(value) || value < 13 || value > 99) {
      (e.target as HTMLInputElement).value = '';
    }
  });
}
```

### TypeScript
```typescript
// ‚úÖ Correcto
import type { Service, Project } from './types';

const services: Service[] = [
  {
    title: 'espabila',
    tagline: 'Quiero un curro y futuro encaminado',
    features: [],
    price: '‚Ç¨XXX/mes'
  }
];
```

---

## üé® Estilo Visual

- Dise√±o oscuro por defecto
- Minimalista y limpio
- Enfoque en legibilidad
- Uso consistente de colores mediante variables CSS
- Tipograf√≠a: Space Grotesk (o similar)

---

## üîß Scripts Disponibles

- `npm run dev` - Desarrollo local
- `npm run build` - Build de producci√≥n
- `npm run build:check` - Verificar tipos sin build
- `npm run preview` - Preview del build
- `npm run deploy` - Deploy a producci√≥n (Vercel)
- `npm run deploy:preview` - Deploy preview (Vercel)

---

## üìö Recursos

- Documentaci√≥n del proyecto en `docs/`
- Ideas pendientes en `docs/IDEAS.md`
- Registro de trabajo en `docs/REGISTRO.md`

---

## ü§ñ Uso del Agente para Git

El agente de Cursor puede realizar todas las operaciones de git directamente. Simplemente pide al agente:

- **"Sube todo a git"** - El agente a√±adir√°, har√° commit y push de todos los cambios
- **"Haz commit de estos cambios"** - El agente crear√° un commit con los cambios actuales
- **"Mergea develop a main"** - El agente realizar√° el merge entre ramas
- **"Cambia a la rama X"** - El agente cambiar√° de rama
- **"Sincroniza las ramas"** - El agente sincronizar√° los cambios entre ramas

**No es necesario usar la terminal manualmente** - El agente puede manejar todo el flujo de git mediante comandos de voz/texto.

---

## üí° Notas Finales

- Este proyecto prioriza la simplicidad y mantenibilidad
- El c√≥digo debe ser autodocumentado cuando sea posible
- Mantener consistencia con el c√≥digo existente
- Cuando dudes, pregunta o revisa c√≥digo similar existente
- Priorizar legibilidad sobre optimizaci√≥n prematura
